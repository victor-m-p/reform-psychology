---
title: "test_command_line"
output: html_document
---

test args

```{r}

inpath_csv <- args[1]
infile <- args[2]
outpath_csv <- args[3]
outfile <- args[4]

```

```{r}
library(tidyverse)
inpath_csv = "/work/50114/MAG/data/modeling/"
infile = "/psychology_replication_matched.csv"
outpath_csv = "/work/50114/MAG/data/modeling/"
outfile = "psychology_test.csv"
```


load stuff based on args

```{r}

csv_path <- paste0(inpath_csv, infile)

# check data
d <- read_csv(csv_path) %>%
  mutate(log_teamsize = log(n_authors), 
         condition_fct = as_factor(condition), 
         id_match = as_factor(match_group),
         id_dct = as_factor(PaperId),
         year_after_2005 = Year - 2005) 

```

save file 

```{r}

csv_out <- paste0(outpath_csv, outfile)
write_csv(d, csv_out)

```

read file 

```{r}

d2 <- read_csv(paste0(outpath_csv, outfile))

```

